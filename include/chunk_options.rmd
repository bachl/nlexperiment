
```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = paste0("img/pages-"),
  fig.height = 5,
  fig.width = 8
)

# change knitr cache folder
cache_path <- knitr::opts_chunk$get("cache.path")
cache_path <- paste0("cache/", cache_path)
cache_path <- gsub("html/$", "", cache_path )
knitr::opts_chunk$set(cache.path = cache_path)


gi_include <- function(c_title) {
  
  if(c_title == "") gi_class <- ""
  else if( tolower(substring(c_title, 1, 5))  == "setup" ) gi_class <- "glyphicon-cog"
  else if( tolower(substring(c_title, 1, 7))  == "install" ) gi_class <- "glyphicon-cog"
  else if( tolower(substring(c_title, 1, 6))  == "define" ) gi_class <- "glyphicon-list-alt"
  else if( tolower(substring(c_title, 1, 6))  == "create" ) gi_class <- "glyphicon-list-alt"
  else if( tolower(substring(c_title, 1, 3))  == "run" ) gi_class <- "glyphicon-play-circle"
  else if( tolower(substring(c_title, 1, 4))  == "show" ) gi_class <- "glyphicon-stats"
  else if( tolower(substring(c_title, 1, 4))  == "plot" ) gi_class <- "glyphicon-stats"
  else gi_class <- "glyphicon-th-list"
  
  sprintf(
    '<lside><span class="glyphicon %s" aria-hidden="true" title = "%s" style="color:gray"></span></lside>',
    gi_class, c_title )
}

# new chunk property (title) as left side html note (CSS handles lside position)
knitr::knit_hooks$set(title = function(before, options, envir) {
    if (before) return(gi_include(options$title))  # smaller margin on top and right
})

```
