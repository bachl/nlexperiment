---
output: 
  html_document: 
    keep_md: yes
    self_contained: no
---

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "img/README-"
)
```

[![](https://travis-ci.org/bergant/nlexperiment.svg)](https://travis-ci.org/bergant/nlexperiment)

----
<a name="nlexperiment"></a>
![nlexperiment](img/logo.png)

####Define and run NetLogo experiments in R

The goal of **nlexperiment** is to make 
exploring NetLogo models with R as simple as possible 
while keeping advanced functionalities available to
advanced users.
It uses [RNetLogo](https://cran.r-project.org/web/packages/RNetLogo/)
package (Thiele 2014) as an interface to NetLogo.


## Installation

`library(devtools)`   
`install_github("bergant/nlexperiment")`


```{r, echo = FALSE}
library(nlexperiment)
# Set the path to your NetLogo instalation
nl_netlogo_path("c:/Program Files (x86)/NetLogo 5.2.0/") 
fire_model <- file.path(nl_netlogo_path(), "models/Sample Models/Earth Science/Fire.nlogo")
library(ggplot2)
```


```{r ch1, child="readme_parts/readme1.rmd", cache=FALSE}
```

```{r ch2, child="readme_parts/readme2.rmd", cache=FALSE, eval=TRUE}
```

```{r ch3, child="readme_parts/readme3.rmd", cache=FALSE, eval=TRUE}
```

```{r ch6, child="readme_parts/readme6.rmd", cache=FALSE, eval=TRUE}
```

```{r ch5, child="readme_parts/readme5.rmd", cache=FALSE, eval=TRUE}
```

```{r ch7, child="readme_parts/readme7.rmd", cache=FALSE, eval=TRUE}
```


```{r ch10, child="readme_parts/readme_flocking.rmd", cache=FALSE, eval=TRUE}
```




## References


* Thiele, J. (2014) R Marries NetLogo: Introduction to the RNetLogo Package. Journal of Statistical Software 58(2) 1-41. http://www.jstatsoft.org/v58/i02/

* Railsback, S. F., & Grimm, V. (2011). Agent-Based and Individual-Based Modeling: A Practical Introduction. Princeton University Press.

* Reiczigel, J., Lang, Z., Rózsa, L., & Tóthmérész, B. (2008). Measures of sociality: two different views of group size. Animal Behaviour, 75(2), 715–721.

* Stonedahl, F. J. (2011). Genetic algorithms for the exploration of parameter spaces in agent-based models. http://dl.acm.org/citation.cfm?id=2522136

* Thiele, J. C., Kurth, W., & Grimm, V. (2014). Facilitating Parameter Estimation and Sensitivity Analysis of Agent-Based Models: A Cookbook Using NetLogo and R. Journal of Artificial Societies and Social Simulation, 17(3), 11. http://jasss.soc.surrey.ac.uk/17/3/11.html

* Wilensky, U. (1999). NetLogo. http://ccl.northwestern.edu/netlogo/. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

* Wilensky, U. (1997). NetLogo Fire model. http://ccl.northwestern.edu/netlogo/models/Fire. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

* Wilensky, U. (1997). NetLogo Ants model. http://ccl.northwestern.edu/netlogo/models/Ants. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

* Wilensky, U. (1998). NetLogo Flocking model. http://ccl.northwestern.edu/netlogo/models/Flocking. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

* Wilensky, U. (2003). NetLogo Fur model. http://ccl.northwestern.edu/netlogo/models/Fur. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

* Wilensky, U. (2005). NetLogo Preferential Attachment model. http://ccl.northwestern.edu/netlogo/models/PreferentialAttachment. Center for Connected Learning and Computer-Based Modeling, Northwestern University, Evanston, IL.

* Wilensky, U., & Shargel, B. (2002). BehaviorSpace. Center for Connected Learning and Computer Based Modeling, Northwestern University, Evanston, IL. http://ccl.northwestern.edu/netlogo/behaviorspace.html


## Resources

* nlexperiment requires __RNetLogo__ to connect to NetLogo
https://cran.r-project.org/web/packages/RNetLogo/index.html

* Basic ideas and principles of NetLogo experiment definition is taken from
the NetLogo's **Behavior Space** tool
http://ccl.northwestern.edu/netlogo/docs/behaviorspace.html and
**BehaviorSearch** tool http://www.behaviorsearch.org/

* The parallel implementation of `nl_run` function is based on the RNetLogo vignette
https://cran.r-project.org/web/packages/RNetLogo/vignettes/parallelProcessing.pdf

* Some tutorials follow examples and methods from Thiele, Kurth & Grimm (2014)
article and its Supplementary Material
http://sourceforge.net/projects/calibrationsensitivityanalysis/

* This document was created with __knitr__ package
https://cran.r-project.org/web/packages/knitr/index.html

* Graphics were created with __ggplot2__ package
https://cran.r-project.org/web/packages/ggplot2/index.html and
__igraph__ package (http://igraph.org/r/) 

Other than base packages attached:
```{r results='asis'}
knitr::kable(
  do.call(rbind, 
    lapply(sessionInfo()$otherPkgs, function(x) {
      data.frame(
        title = paste0(" ", x$Title, " "),
        ver = x$Version,
        author = x$Author    
      )
  })), 
  format = "html"
)
```

